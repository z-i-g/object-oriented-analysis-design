Видимо не совсем правильно понял задание, мой приимер был с использованием наследования.
Со списками пример нагляднее.